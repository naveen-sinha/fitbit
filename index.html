<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.6.2.min.js"></script>

        <!-- Enable code highlighting -->
        <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css&skin=desert"></script>

        <!-- Use custom font -->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>

    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <section class="wrapper">
            <section class="title-bar">
                <h1>Better Habits Through Fitbit</h1>
                <h2>An exploration of one year of lifestyle tracking</h2>
                <h3>by Naveen Sinha</h3>
            </section>

            <h3>Summary</h3>

            <p>Fitbit has been a steady companion over the past year, through many life transitions. I love the way that it quantifies my life, but I'm also frustrated with how it misses on major changes in my daily routine.

            <h3>Step 1) Import the data</h3>

            <p>A <a href="http://quantifiedself.com/2013/02/how-to-download-fitbit-data-using-google-spreadsheets/">script</a> by Ernesto Ramirez makes downloading personal data from Fitbit a painless process. After getting a Developer Account from the Fitbit Developer <a href="dev.fitbit.com">website</a>, I was able to download my data in about 10 minutes.</p>

            <p>The R programming language provides powerful tools for analyzing data, so I exported my data from the Google Spreadsheet into a CSV file to be read into R.</p>

            <p>The main trick was to convert the string for the date to a Date object in R, so that it would be sorted properly. I also created a new column to display the days of the week in chronological, rather than alphabetical, order.</p>
                    
            <pre class="prettyprint" class="code-light">
            mydata$date <- as.Date(mydata$date)
            mydata$days <- weekdays(mydata$date)
            days_names = c('sun', 'mon', 'tues', 'wed', 'thurs', 'fri', 'sat', 'sun')
            mydata$days_f = factor(mydata$days, levels=days_names)
            </pre>


            <h3>Step 2) Segregate according to day of the week</h3>

            <p>Most people, including me, have a weekly routine that varies greatly from day to day. In my case, I typically do CrossFit on Mondays, Thursdays, and Saturdaysl stadium runs with the November Project on Wednesday; and long runs around Boston on Sundays.</p>

            <p>To isolate the effect of the day of the week on any overall trends, I used the <span class="code">facet grids</span> in the <span class="code">ggplot</span> library.</p>

            <pre class="prettyprint" class="code-light">
            p <- ggplot(mydata, aes(date, steps, fill=(weekdays(date)), alpha=factor(steps))) 
                + geom_bar(stat="identity", width=5)
            p + facet_grid(days_f ~ .) + theme(legend.position='none') 
                + xlab('Date') + ylab('Steps') + labs(title="Steps per day")
            </pre>

            <h4>Steps</h4>

            <figure><img class="plot" src="img/steps-by-day.png"></figure>

            <h4>Calories consumed</h4>

            <figure><img class="plot" src="img/calories-by-day.png"></figure>

            <h4>Minutes asleep</h4>

            <figure><img class="plot" src="img/sleep-by-day.png"></figure>

            <h4>Minutes very active</h4>

            <figure><img class="plot" src="img/very-active-by-day.png"></figure>

            <h3>Step 3) Look at the distributions</h3>

            <p>One of my problems with Fitbit is the 10,000 step per day goal. My daily schedule is variable enough that my total number of steps can easily vary by a factor of two. To quantify this effect, I looked at histograms for some key metrics about activity.

            <h3>Step 4) Look for bright spots</h3>

            <p>Rather than a linearly increasing step goal, more personalized recommendations would be inspired by exceptional days in my history.

            <h3>What's next?</h3>

            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
            <script src="js/plugins.js"></script>
            <script src="js/main.js"></script>


            <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
            <script>
                (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
                function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
                e=o.createElement(i);r=o.getElementsByTagName(i)[0];
                e.src='//www.google-analytics.com/analytics.js';
                r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
                ga('create','UA-XXXXX-X');ga('send','pageview');
            </script>
        </section>
    </body>
</html>
